<!DOCTYPE html>
<html>
<head>
    <title>Spoonacular AI Assistant</title>
   <style>
    body {
        font-family: Arial;
        padding: 20px;
    }

    /* Container that holds both the SVG and the overlay elements */
    .wireframe-container {
        position: relative;
        width: 400px; /* same as your SVG width */
    }

    #wireframe {
        width: 100%;
        display: block;
    }

    /* Text box that overlays the SVG */
    #userText {
        position: absolute;
        top: 120px;     /* adjust this number to move it up/down */
        left: 40px;     /* adjust this number to move it left/right */
        width: 320px;   /* adjust width to match your frame */
        height: 100px;  /* adjust height to match your wireframe box */
        font-size: 14px;
        padding: 8px;
        resize: none;
    }

    /* Button overlay */
    #sendBtn {
        position: absolute;
        top: 240px;   /* adjust as needed */
        left: 150px;  /* adjust as needed */
        padding: 8px 20px;
    }
</style>
</head>
<body>

<h1>Spoonacular AI Assistant</h1>

<div class="wireframe-container">
    <img src="wireframe.svg" id="wireframe">

    <!-- The textarea that will sit ON TOP of the wireframe -->
    <textarea id="userText"></textarea>

    <!-- Button that sits on the wireframe too -->
    <button id="sendBtn" onclick="sendRequest()">Send</button>
</div>

<div id="response"></div>

<script>
async function sendRequest() {
    console.log("Button clicked!");
    
    const text = document.getElementById("userText").value;

    const res = await fetch("https://cs1200-call-to-ai-project-1.onrender.com/ask", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ text })
    });

    const data = await res.json();

    console.log(data);

    document.getElementById("response").innerText =
        data.answer || data.error || "No response";
}
</script>

</body>
</html>
